(function(e){function t(t){for(var i,r,l=t[0],o=t[1],c=t[2],u=0,m=[];u<l.length;u++)r=l[u],n[r]&&m.push(n[r][0]),n[r]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);d&&d(t);while(m.length)m.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],i=!0,l=1;l<s.length;l++){var o=s[l];0!==n[o]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=s[0]))}return e}var i={},n={app:0},a=[];function r(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=i,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(s,i,function(t){return e[t]}.bind(null,i));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=o;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var i=s("64a9"),n=s.n(i);n.a},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var i=s("2b0e"),n=s("5f5b"),a=s("5fda"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container",attrs:{id:"app"}},[e._m(0),s("PhoneBook")],1)},l=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row top-space"},[s("div",{staticClass:"col"},[s("h3",[e._v("Контакты")])])])}],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("AddItemForm",{on:{"add-item":e.addItem},model:{value:e.newContact,callback:function(t){e.newContact=t},expression:"newContact"}}),s("SearchForm",{on:{"search-items":e.setSearchString}}),s("div",{staticClass:"row list-header"},[s("div",{staticClass:"col-1"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectAll,expression:"selectAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selectAll)?e._i(e.selectAll,null)>-1:e.selectAll},on:{change:function(t){var s=e.selectAll,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=null,r=e._i(s,a);i.checked?r<0&&(e.selectAll=s.concat([a])):r>-1&&(e.selectAll=s.slice(0,r).concat(s.slice(r+1)))}else e.selectAll=n}}})])]),s("div",{staticClass:"col-1"},[e._v("№")]),s("div",{staticClass:"col-5"},[e._v("Имя и фамилия")]),s("div",{staticClass:"col-4"},[e._v("Номер телефона")]),s("div",{staticClass:"col-1"})]),s("transition-group",{attrs:{name:"fade"}},e._l(e.filteredList,function(t,i){return s("PhoneBookItem",{key:t.id,attrs:{item:t,index:i,selectAll:e.selectAll},on:{"remove-item":e.removeItem,"selection-changed":e.changeItemSelection}})}),1),s("transition",{attrs:{name:"fade"}},[0===e.list.length?s("div",{staticClass:"row top-space"},[s("div",{staticClass:"col centered"},[e._v("Пока нет ни одного контакта.")])]):e._e()])],1)},c=[],d=(s("6762"),s("2fdb"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row list-element"},[s("div",{staticClass:"col-1"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{type:"checkbox"},domProps:{value:e.item.id,checked:Array.isArray(e.selected)?e._i(e.selected,e.item.id)>-1:e.selected},on:{change:function(t){var s=e.selected,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=e.item.id,r=e._i(s,a);i.checked?r<0&&(e.selected=s.concat([a])):r>-1&&(e.selected=s.slice(0,r).concat(s.slice(r+1)))}else e.selected=n}}})])]),s("div",{staticClass:"col-1",domProps:{textContent:e._s(e.index+1)}}),s("div",{staticClass:"col-5",domProps:{textContent:e._s(e.item.fullName)}}),s("div",{staticClass:"col-4",domProps:{textContent:e._s(e.item.phoneNumber)}}),s("div",{staticClass:"col-1"},[s("button",{attrs:{title:"Удалить"},on:{click:e.remove}},[e._v("x")])])])}),u=[],m={name:"PhoneBookItem",props:["item","index","selectAll"],data:function(){return{selected:!1}},methods:{remove:function(){this.$emit("remove-item",this.item)}},watch:{selectAll:function(e){this.selected=e},selected:function(e){this.$emit("selection-changed",this.item,e)}}},h=m,p=s("2877"),f=Object(p["a"])(h,d,u,!1,null,null,null),v=f.exports,g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._m(0),s("div",{staticClass:"row"},[s("div",{staticClass:"col-6 col-md-4 col-lg-3"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newFirstName,expression:"newFirstName"}],class:{"empty-field":e.isHighlighted&&""===e.newFirstName},attrs:{type:"text",placeholder:e.firstNameText,tabindex:"1"},domProps:{value:e.newFirstName},on:{input:function(t){t.target.composing||(e.newFirstName=t.target.value)}}})])]),s("div",{staticClass:"col-6 col-md-4 col-lg-3"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newLastName,expression:"newLastName"}],class:{"empty-field":e.isHighlighted&&""===e.newLastName},attrs:{type:"text",placeholder:e.lastNameText,tabindex:"2"},domProps:{value:e.newLastName},on:{input:function(t){t.target.composing||(e.newLastName=t.target.value)}}})])]),s("div",{staticClass:"col-6 col-md-4 col-lg-3"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPhoneNumber,expression:"newPhoneNumber"}],class:{"empty-field":e.isHighlighted&&""===e.newPhoneNumber},attrs:{type:"text",placeholder:e.phoneNumberText,tabindex:"3"},domProps:{value:e.newPhoneNumber},on:{input:function(t){t.target.composing||(e.newPhoneNumber=t.target.value)}}})])]),s("div",{staticClass:"col-3 col-md-2"},[s("button",{attrs:{tabindex:"4"},on:{click:e.addContact}},[e._v("Добавить")])])]),s("transition",{attrs:{name:"fade"}},[e.isHighlighted?s("div",{staticClass:"row"},[s("div",{staticClass:"col centered"},[s("b-alert",{attrs:{show:"",variant:"danger"},domProps:{textContent:e._s(e.errorMessage)}})],1)]):e._e()])],1)},b=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row top-space"},[s("div",{staticClass:"col"},[s("h5",[e._v("Добавить контакт")])])])}],w="Вы не заполнили поля: ",N={name:"AddItemForm",data:function(){return{newContact:{},newFirstName:"",newLastName:"",newPhoneNumber:"",firstNameText:"Имя",lastNameText:"Фамилия",phoneNumberText:"Номер телефона",isHighlighted:!1,errorMessage:""}},methods:{addContact:function(){var e=[];if(""===this.newFirstName&&e.push(this.firstNameText),""===this.newLastName&&e.push(this.lastNameText),""===this.newPhoneNumber&&e.push(this.phoneNumberText),e.length>0)return this.isHighlighted=!0,void(this.errorMessage=w+e.join(", "));this.newContact={id:(new Date).getTime(),firstName:this.newFirstName,lastName:this.newLastName,fullName:this.newFirstName+" "+this.newLastName,phoneNumber:this.newPhoneNumber},this.newFirstName="",this.newLastName="",this.newPhoneNumber="",this.isHighlighted=!1,this.$emit("add-item",this.newContact)}}},C=N,x=Object(p["a"])(C,g,b,!1,null,null,null),_=x.exports,y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._m(0),s("div",{staticClass:"row"},[s("div",{staticClass:"col-6 col-md-4 col-lg-3"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchString,expression:"searchString"}],attrs:{type:"text",placeholder:"По имени или телефону",tabindex:"5"},domProps:{value:e.searchString},on:{input:function(t){t.target.composing||(e.searchString=t.target.value)}}})])]),s("div",{staticClass:"col-3 col-md-2"},[s("button",{attrs:{tabindex:"6"},on:{click:e.search}},[e._v("Найти")])]),s("div",{staticClass:"col-3 col-md-2"},[s("button",{attrs:{tabindex:"6"},on:{click:e.clearFilter}},[e._v("Сброс")])])])])},P=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row top-space"},[s("div",{staticClass:"col"},[s("h5",[e._v("Поиск")])])])}],k={name:"SearchForm",data:function(){return{searchString:""}},methods:{search:function(){this.$emit("search-items",this.searchString)},clearFilter:function(){this.searchString="",this.$emit("search-items","")}}},A=k,S=Object(p["a"])(A,y,P,!1,null,null,null),L=S.exports,F={name:"PhoneBook",components:{AddItemForm:_,SearchForm:L,PhoneBookItem:v},props:["item"],data:function(){return{selectAll:!1,newContact:{},list:[],selectedList:[],searchString:""}},computed:{filteredList:function(){var e=this.searchString.toLowerCase();return this.list.filter(function(t){return 0===e.length||t.firstName.toLowerCase().indexOf(e)>=0||t.lastName.toLowerCase().indexOf(e)>=0||t.phoneNumber.toLowerCase().indexOf(e)>=0})}},methods:{addItem:function(e){var t=this.list.some(function(t){return t.phoneNumber===e.phoneNumber});t?this.$bvModal.msgBoxOk("Контакт с таким номером телефона уже есть!",{size:"md",buttonSize:"sm",okVariant:"primary",hideHeader:!0,hideHeaderClose:!0,footerClass:"p-2",centered:!1}):this.list.push(e)},removeItem:function(e){var t=this,s=0===this.selectedList.length?"Вы действительно хотите удалить ".concat(e.fullName,"?"):"Вы действительно хотите удалить выбранные контакты?";this.$bvModal.msgBoxConfirm(s,{size:"md",buttonSize:"sm",okVariant:"primary",okTitle:"Удалить",cancelTitle:"Отмена",footerClass:"p-2",hideHeader:!0,hideHeaderClose:!0,centered:!1}).then(function(s){if(s){var i=0===t.selectedList.length?[e]:t.selectedList;t.list=t.list.filter(function(e){return!i.includes(e)}),t.selectedList=[],t.selectAll=!1}})},changeItemSelection:function(e,t){t?this.selectedList.includes(e)||this.selectedList.push(e):this.selectedList=this.selectedList.filter(function(t){return t.id!==e.id})},setSearchString:function(e){this.searchString=e}}},O=F,$=Object(p["a"])(O,o,c,!1,null,null,null),T=$.exports,j={name:"app",components:{PhoneBook:T}},I=j,H=(s("034f"),Object(p["a"])(I,r,l,!1,null,null,null)),M=H.exports;s("f9e3"),s("2dd8");i["default"].use(n["a"]),i["default"].component("b-alert",a["a"]),i["default"].config.productionTip=!1,new i["default"]({render:function(e){return e(M)}}).$mount("#app")},"64a9":function(e,t,s){}});
//# sourceMappingURL=app.9a43be45.js.map